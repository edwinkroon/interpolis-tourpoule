<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interpolis Tourspel - Etappe informatie</title>
  <link rel="stylesheet" href="styles/grid.css">
  <link rel="stylesheet" href="styles/style.css">
  <script src="scripts/auth0-spa-js.production.js"></script>
  <script src="scripts/auth-config.js"></script>
  <script src="scripts/auth.js"></script>
  <script src="scripts/utils.js" defer></script>
  <script src="scripts/build-info.js" defer></script>
  <script src="scripts/etappeoverzicht.js" defer></script>
</head>
<body>
  <div id="build-info" class="build-info"></div>
  <!-- Header -->
  <header class="header">
    <div class="header-content page">
      <div class="grid">
        <div class="col-12">
          <div class="header-top">
            <a href="home.html" class="back-link">
              <img src="assets/arrow.svg" alt="" class="back-arrow" aria-hidden="true">
              <span>Terug</span>
            </a>
            <div class="header-title">Interpolis tourspel</div>
          </div>
        </div>
        <div class="col-12">
          <div class="header-welcome-section">
            <h1 class="welcome-heading">Etappe informatie</h1>
            <div class="header-illustration">
              <img src="assets/headerillustration.svg" alt="Fiets illustratie" class="illustration-svg">
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Stage Navigation Bar (overlay on header, full width) -->
    <nav class="stage-navigation">
      <div class="page">
        <div class="stage-nav-content">
          <button class="stage-nav-button" id="prev-stage" aria-label="Vorige etappe">
            <img src="assets/arrow.svg" alt="" class="stage-nav-arrow stage-nav-arrow-left" aria-hidden="true">
          </button>
          <div class="stage-nav-info">
            <div class="stage-nav-title">
              <span class="stage-number" id="stage-number"></span>
            </div>
            <div class="stage-nav-route" id="stage-route"></div>
          </div>
          <button class="stage-nav-button" id="next-stage" aria-label="Volgende etappe">
            <img src="assets/arrow.svg" alt="" class="stage-nav-arrow stage-nav-arrow-right" aria-hidden="true">
          </button>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="main-content page">
    <div class="grid">
      <!-- Sidebar with Action Buttons -->
      <div class="sidebar col-3">
        <div class="action-buttons">
          <button class="action-button" aria-label="Bekijk spelregels" data-nav="rules.html">
            <span>Spelregels</span>
            <img src="assets/arrow.svg" alt="" class="action-arrow" aria-hidden="true">
          </button>
          <button class="action-button" aria-label="Bekijk statistieken" data-nav="statistieken.html">
            <span>Statistieken</span>
            <img src="assets/arrow.svg" alt="" class="action-arrow" aria-hidden="true">
          </button>
          <button class="action-button" aria-label="Etappe toevoegen" data-nav="etappetoevoegen.html">
            <span>Etappe toevoegen</span>
            <img src="assets/arrow.svg" alt="" class="action-arrow" aria-hidden="true">
          </button>
        </div>
      </div>

      <!-- Dashboard Content -->
      <div class="dashboard-content col-9">
        <!-- Two Column Layout -->
        <div class="dashboard-grid">
          <!-- Left Column -->
          <div class="dashboard-column">
            <!-- Mijn punten Card -->
            <div class="dashboard-section points-section">
              <div class="team-card-header">
                <h2 class="dashboard-section-title">Mijn punten <span class="points-count"></span></h2>
                <button class="info-icon-button" id="my-points-info-button" aria-label="Informatie over mijn punten">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <text x="10" y="14" text-anchor="middle" font-size="12" font-weight="600" fill="currentColor">i</text>
                  </svg>
                </button>
                <div class="info-popup" id="my-points-info-popup" style="display: none;">
                  <div class="info-popup-content">
                    <h3>Mijn punten</h3>
                    <p>Hier zie je welke renners uit jouw team punten hebben behaald bij deze etappe. Alleen renners die punten hebben gescoord worden getoond. Het totaal aantal punten staat tussen haakjes naast de titel.</p>
                  </div>
                </div>
              </div>
              <ul class="riders-list" id="my-riders-list">
                <!-- Data wordt geladen vanuit JSON -->
              </ul>
              <a href="#" class="card-link">
                <span>mijn team</span>
                <img src="assets/arrow.svg" alt="" class="action-arrow" aria-hidden="true">
              </a>
            </div>

            <!-- Dag uitslag Card -->
            <div class="dashboard-section dag-uitslag-section">
              <div class="team-card-header">
                <h2 class="dashboard-section-title">Beste teams van de dag</h2>
                <button class="info-icon-button" id="day-standings-info-button" aria-label="Informatie over beste teams van de dag">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <text x="10" y="14" text-anchor="middle" font-size="12" font-weight="600" fill="currentColor">i</text>
                  </svg>
                </button>
                <div class="info-popup" id="day-standings-info-popup" style="display: none;">
                  <div class="info-popup-content">
                    <h3>Beste teams van de dag</h3>
                    <p>Hier zie je de top 3 teams die de meeste punten hebben behaald bij deze etappe. De teams worden gesorteerd op basis van het aantal punten dat ze hebben behaald bij deze specifieke etappe.</p>
                  </div>
                </div>
              </div>
              <ol class="standings-list" id="day-standings-list">
                <!-- Data wordt geladen vanuit JSON -->
              </ol>
              <a href="daguitslag.html" class="card-link" id="dag-uitslag-link">
                <span>bekijk alle teams</span>
                <img src="assets/arrow.svg" alt="" class="action-arrow" aria-hidden="true">
              </a>
            </div>
          </div>

          <!-- Right Column -->
          <div class="dashboard-column">
            <!-- Etappe uitslag Card -->
            <div class="dashboard-section etappe-uitslag-section">
              <div class="team-card-header">
                <h2 class="dashboard-section-title">Etappe uitslag</h2>
                <button class="info-icon-button" id="stage-results-info-button" aria-label="Informatie over etappe uitslag">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <text x="10" y="14" text-anchor="middle" font-size="12" font-weight="600" fill="currentColor">i</text>
                  </svg>
                </button>
                <div class="info-popup" id="stage-results-info-popup" style="display: none;">
                  <div class="info-popup-content">
                    <h3>Etappe uitslag</h3>
                    <p>Hier zie je de top 6 renners van deze etappe met hun eindtijd. De renners zijn gesorteerd op basis van hun eindpositie in de etappe.</p>
                  </div>
                </div>
              </div>
              <ol class="results-list list-with-time" id="stage-results-list">
                <!-- Data wordt geladen vanuit JSON -->
              </ol>
              <a href="#" class="card-link">
                <span>volledige etappe uitslag</span>
                <img src="assets/arrow.svg" alt="" class="action-arrow" aria-hidden="true">
              </a>
            </div>

            <!-- Truien Card -->
            <div class="dashboard-section">
              <div class="team-card-header">
                <h2 class="team-card-title">Truidragers</h2>
                <button class="info-icon-button" id="jerseys-info-button" aria-label="Informatie over truidragers">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <text x="10" y="14" text-anchor="middle" font-size="12" font-weight="600" fill="currentColor">i</text>
                  </svg>
                </button>
                <div class="info-popup" id="jerseys-info-popup" style="display: none;">
                  <div class="info-popup-content">
                    <h3>Truidragers</h3>
                    <p>Hier zie je welke renners de leidende truien dragen na deze etappe: de gele trui (algemeen klassement), groene trui (puntenklassement), bolkentrui (bergklassement) en witte trui (jongerenklassement).</p>
                  </div>
                </div>
              </div>
              <div class="riders-list-container" id="jerseys-list-container">
                <div id="jerseys-list">
                  <!-- Data wordt geladen vanuit JSON -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>
</html>
