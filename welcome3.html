<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interpolis Tourspel - Welkom</title>
  <link rel="stylesheet" href="styles/grid.css">
  <link rel="stylesheet" href="styles/style.css">
  <script src="auth0-spa-js.production.js"></script>
  <script src="auth-config.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content page">
      <div class="grid">
        <div class="col-12">
          <h1 class="header-title">Interpolis tourspel</h1>
        </div>
        <div class="col-12">
          <div class="header-welcome-section">
            <h2 class="welcome-heading">Welkom</h2>
            <div class="header-illustration">
              <img src="assets/headerillustration.svg" alt="Fiets illustratie" class="illustration-svg">
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content page">
    <div class="grid">
      <!-- Action Buttons -->
      <div class="action-buttons col-3">
        <button class="action-button">
          <span>Spelregels</span>
          <img src="assets/arrow.svg" alt="" class="action-arrow">
        </button>
        <button class="action-button">
          <span>Statistieken</span>
          <img src="assets/arrow.svg" alt="" class="action-arrow">
        </button>
        <button class="action-button" id="logout-button">
          <span>Uitloggen</span>
          <img src="assets/arrow.svg" alt="" class="action-arrow">
        </button>
      </div>

      <!-- Form Card -->
      <div class="form-card col-9">
        <h3 class="form-title">Stel je team samen</h3>
        <p class="form-description">
          Je kunt je team samenstellen tot en met 5-7-2022. Een team bestaat uit 15 renners. Dat zijn 10 basis renners en 5 reserve renners. Als een basis renner uitvalt start de volgende etappe de eerst volgende reserve renner.<br><br>
          
          Eenvoudig toch?<br><br>
          
          De definitieve startlijst is altijd pas laat 100% compleet en de lijst met renners zal dus de laatste week voor de start meerdere malen aangepast worden. Vandaar dat er gewerkt wordt met een voorlopige lijst met wielrenners. Op het startscherm bij de mededelingen houden we jullie op de hoogte van nieuwtjes die van pas komen bij het samenstellen van je team.<br>
          We sturen ook regelmatig een e-mail als je je emailadres hebt opgegeven.
        </p>

      <!-- Navigation Buttons -->
      <div class="navigation-buttons">
        <button type="button" class="nav-button nav-button-prev" id="prev-button">
          <img src="assets/arrow.svg" alt="" class="nav-arrow nav-arrow-left">
          <span>vorige</span>
        </button>
        <button type="button" class="nav-button nav-button-next" id="next-button">
          <span>volgende</span>
          <img src="assets/arrow.svg" alt="" class="nav-arrow nav-arrow-right">
        </button>
      </div>
    </div>
  </main>

  <script>
    let auth0Client;

    async function initAuth() {
      if (typeof auth0 === 'undefined') {
        return;
      }

      try {
        auth0Client = await auth0.createAuth0Client({
          domain: AUTH0_CONFIG.domain,
          clientId: AUTH0_CONFIG.clientId,
          authorizationParams: {
            redirect_uri: AUTH0_CONFIG.redirectUri
          }
        });
      } catch (error) {
        console.error('Fout bij initialiseren van Auth0:', error);
      }
    }

    async function logout() {
      if (!auth0Client) {
        console.error('Auth0 client niet ge√Ønitialiseerd');
        return;
      }

      try {
        await auth0Client.logout({
          logoutParams: {
            returnTo: window.location.origin + '/login.html'
          }
        });
      } catch (error) {
        console.error('Fout bij uitloggen:', error);
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      const prevButton = document.getElementById('prev-button');
      const nextButton = document.getElementById('next-button');
      const logoutButton = document.getElementById('logout-button');

      // Initialize Auth0
      setTimeout(initAuth, 100);

      // Handle previous button click
      prevButton.addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = 'welcome2.html';
      });

      // Handle next button click
      nextButton.addEventListener('click', function(e) {
        e.preventDefault();
        // Add your navigation logic here
        console.log('Navigating to next step...');
      });

      // Handle logout button click
      logoutButton.addEventListener('click', function(e) {
        e.preventDefault();
        logout();
      });
    });
  </script>
</body>
</html>
